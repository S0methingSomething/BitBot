# This file contains centralized configuration for tests.

[github]
sourceRepo = "test/source"
botRepo = "test/bot"
assetFileName = "test.zip"

[reddit]
subreddit = "test"
templateFile = "post.md"
outdatedTemplateFile = "outdated.md"
postTitle = "Test Post v{{version}}"
botName = "test_bot"
creator = "test_creator"

[outdatedPostHandling]
mode = "inject"
injectTemplateFile = "inject.md"

[messages]
releaseTitle = "Test Release v{{version}}"
releaseDescription = "Test release description."

[skipContent]
startTag = "<!-- START -->"
endTag = "<!-- END -->"

[feedback]
statusLineFormat = "Status: {{status}}"
statusLineRegex = "^Status:.*"
minFeedbackCount = 1
workingKeywords = ["working", "works"]
notWorkingKeywords = ["broken", "doesn't work"]

[feedback.labels]
working = "working"
broken = "broken"
unknown = "unknown"

[timing]
firstCheck = 300
maxWait = 3600
increaseBy = 300

[[apps]]
id = "app1"
displayName = "App 1"

[[apps]]
id = "app2"
displayName = "App 2"

[templates]
post = """
# Test Post

Version: {{version}}
Download: {{direct_download_url}}
"""
outdated = """
# Outdated Post

A new version is available: {{latest_version}}
"""
inject = """
# Injected Banner

Latest version: {{latest_version}}
"""
"post.md" = """
# Test Post

Version: {{version}}
Download: {{direct_download_url}}
"""
"outdated.md" = """
# Outdated Post

A new version is available: {{latest_version}}
"""
"inject.md" = """
# Injected Banner

Latest version: {{latest_version}}
"""

[state]
initial = { activePostId = "initial_post", lastCheckTimestamp = "2020-01-01T00:00:00Z", currentIntervalSeconds = 0, lastCommentCount = 0 }
updated = { activePostId = "updated_post", lastCheckTimestamp = "2023-01-01T00:00:00Z", currentIntervalSeconds = 300, lastCommentCount = 5 }